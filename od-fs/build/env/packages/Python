#!/bin/sh
# This file is automatically generated by fs-package
set -e

#"$BUILD_ENV_DIR/packages/libpng"
#"$BUILD_ENV_DIR/packages/zlib"

PACKAGE=Python-3.13.2
CHECKSUM=d984bcc57cd67caab26f7def42e523b1c015bbc5dc07836cf4f0b63fa159eb56
REVISION=0

. "$BUILD_ENV_DIR/scripts/package.sh"

"$BUILD_ENV_DIR/scripts/download.py" \
https://www.python.org/ftp/python/3.13.2/$PACKAGE.tar.xz \
sha256:$CHECKSUM

tar xf "$BUILD_ENV_DIR/_sources/$PACKAGE.tar.xz"
cd $PACKAGE

./configure --prefix=$PREFIX --enable-shared --without-static-libpython
make
make install

# if [ "$SYSTEM_OS" = "macOS" ]; then
# DYLIB=libpython3.13.dylib
# install_name_tool -id @rpath/$DYLIB $PREFIX/lib/$DYLIB
# fi

touch $INSTALLED
