#!/bin/sh
# This file is automatically generated by fs-package
set -e

build/env/packages/freetype-noharfbuzz
build/env/packages/glib

PACKAGE=harfbuzz-11.0.0
CHECKSUM=f16351bafe214725fe2c1d5b59f0d93e49905a4b247899fb90d70cff953a2b9b
REVISION=0

. build/env/scripts/package.sh

build/env/scripts/download.py \
https://github.com/harfbuzz/harfbuzz/releases/download/11.0.0/$PACKAGE.tar.xz \
sha256:$CHECKSUM

rm -Rf build/env/_temp && mkdir build/env/_temp && cd build/env/_temp
tar xf ../_sources/$PACKAGE.tar.xz
cd $PACKAGE

##meson build
##ninja -Cbuild
##meson test -Cbuild

meson setup --prefix $PREFIX --libdir lib _build
meson compile -C _build
meson install -C _build

# if [ "$SYSTEM_OS" = "macOS" ]; then
# DYLIB=libharfbuzz.0.dylib
# install_name_tool -id @rpath/$DYLIB $FSENV_PREFIX/lib/$DYLIB
# fi

touch $INSTALLED
