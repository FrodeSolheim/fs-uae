#!/bin/sh
# This file is automatically generated by fs-package
set -e

# Dependency: pulseaudio?
# Dependency: wayland?

PACKAGE=SDL2-2.32.6
CHECKSUM=6a7a40d6c2e00016791815e1a9f4042809210bdf10cc78d2c75b45c4f52f93ad
REVISION=0

. build/env/scripts/package.sh

build/env/scripts/download.py \
https://www.libsdl.org/release/$PACKAGE.tar.gz \
sha256:$CHECKSUM

rm -Rf build/env/_temp && mkdir build/env/_temp && cd build/env/_temp
tar xf ../_sources/$PACKAGE.tar.gz
cd $PACKAGE

if [ "`uname`" = "Linux" ]; then
./configure \
    --prefix=$PREFIX \
    --disable-sndio \
    --disable-video-rpi \
    --enable-video-wayland \
    --enable-video-kmsdrm
elif [ "`uname`" = "Darwin" ]; then
./configure \
        --prefix=$PREFIX \
        --disable-joystick-mfi
else
./configure \
    --prefix=$PREFIX
fi
make
make install

touch $INSTALLED
