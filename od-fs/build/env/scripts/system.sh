# Intended for sourcing by other shell scripts
# This file is automatically generated by fs-package

case "`uname`" in
    Linux*)  SYSTEM_OS=Linux;;
    Darwin*) SYSTEM_OS=macOS;;
    MINGW*)  SYSTEM_OS=Windows;;
    *)       SYSTEM_OS=Unknown;;
esac

case "`uname -m`" in
    x86_64*)  SYSTEM_ARCH=x86-64;;
    aarch64*) SYSTEM_ARCH=ARM64;;
    arm64*)   SYSTEM_ARCH=ARM64;;
    armv7l*)  SYSTEM_ARCH=ARM;;
    *)        SYSTEM_ARCH=Unknown;;
esac

# FIXME: Issue when running i686 in docker via multi-platform; uname -m returns host x86_64
# -compensating

if [ $SYSTEM_OS = "Linux" ]; then
if [ $(gcc -dumpmachine) = "i686-linux-gnu" ]; then
SYSTEM_ARCH=i686
fi
fi

if [ $SYSTEM_OS = "Windows" ]; then
SYSTEM_EXE=.exe
SYSTEM_DLL=.dll
else
SYSTEM_EXE=
SYSTEM_DLL=.so
fi

SYSTEM_OS_ARCH="${SYSTEM_OS}_${SYSTEM_ARCH}"

# FIXME: Deprecated alias
SYSTEM=$SYSTEM_OS

if [ "$SYSTEM_OS_DIST" = "" ]; then
SYSTEM_OS_DIST=$SYSTEM_OS
fi

if [ "$SYSTEM_ARCH_DIST" = "" ]; then
SYSTEM_ARCH_DIST=$SYSTEM_ARCH
fi
