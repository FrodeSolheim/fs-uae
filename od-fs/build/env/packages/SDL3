#!/bin/sh
# This file is automatically generated by fs-package
set -e

# Dependency: pulseaudio?
# Dependency: wayland?

PACKAGE=SDL3-3.2.12
CHECKSUM=9734f308e130c64a2b4df6bca5884c5aca577ee6c7c77ab3379474ea85e51f96
REVISION=0

. "$BUILD_ENV_DIR/scripts/package.sh"

"$BUILD_ENV_DIR/scripts/download.py" \
https://www.libsdl.org/release/$PACKAGE.tar.gz \
sha256:$CHECKSUM

tar xf "$BUILD_ENV_DIR/_sources/$PACKAGE.tar.gz"
cd $PACKAGE

cmake -S . -B _build
cmake --build _build
cmake --install _build --prefix $PREFIX

if [ "$SYSTEM_OS" = "macOS" ]; then
DYLIB=libSDL3.0.dylib
install_name_tool -id $PREFIX/lib/$DYLIB $PREFIX/lib/$DYLIB
fi

touch $INSTALLED
