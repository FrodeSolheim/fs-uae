#!/bin/sh
# This file is automatically generated by fs-package
set -e

# FIXME: plutosvg for rendering icons/smileys (etc)?

"$BUILD_ENV_DIR/packages/freetype"
"$BUILD_ENV_DIR/packages/harfbuzz"
"$BUILD_ENV_DIR/packages/SDL3"

PACKAGE=SDL3_ttf-3.2.0
CHECKSUM=9a741defb7c7d6dff658d402cb1cc46c1409a20df00949e1572eb9043102eb62
REVISION=0

. "$BUILD_ENV_DIR/scripts/package.sh"

"$BUILD_ENV_DIR/scripts/download.py" \
https://www.libsdl.org/projects/SDL_ttf/release/$PACKAGE.tar.gz \
sha256:$CHECKSUM

tar xf "$BUILD_ENV_DIR/_sources/$PACKAGE.tar.gz"
cd $PACKAGE

cmake -S . -B _build
cmake --build _build
cmake --install _build --prefix $PREFIX

if [ "$SYSTEM_OS" = "macOS" ]; then
DYLIB=libSDL3_ttf.0.dylib
install_name_tool -id $PREFIX/lib/$DYLIB $PREFIX/lib/$DYLIB
fi

touch $INSTALLED
