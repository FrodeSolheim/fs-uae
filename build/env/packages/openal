#!/bin/sh
# This file is automatically generated by fs-package
set -e

fsdeps/packages/gettext

PACKAGE=openal-soft-1.21.1
CHECKSUM=c8ad767e9a3230df66756a21cc8ebf218a9d47288f2514014832204e666af5d8
REVISION=1

. build/env/scripts/package.sh

build/env/scripts/download.py \
https://openal-soft.org/openal-releases/\
$PACKAGE.tar.bz2 \
sha256:$CHECKSUM

rm -Rf build/env/_temp && mkdir build/env/_temp && cd build/env/_temp
tar xf ../_sources/$PACKAGE.tar.bz2
cd $PACKAGE

if [ "$SYSTEM_OS" = "Windows" ]; then
cmake \
-G "MSYS Makefiles" \
-DCMAKE_INSTALL_PREFIX="$PREFIX" \
-DALSOFT_EXAMPLES=0 \
-DALSOFT_TESTS=0
else
cmake \
-DCMAKE_INSTALL_PREFIX="$PREFIX" \
-DALSOFT_EXAMPLES=0 \
-DALSOFT_TESTS=0
fi
make VERBOSE=1
make install

touch $INSTALLED
